# ==============================================================================
# PowerDNS Authoritative Server 4.9 Configuration
# ==============================================================================
# Minimal working configuration for PowerDNS with LMDB backend

# ==============================================================================
# DAEMON SETTINGS
# ==============================================================================
daemon=no
guardian=no

# ==============================================================================
# LMDB BACKEND CONFIGURATION
# ==============================================================================
launch=lmdb
lmdb-filename=/var/lib/powerdns/pdns.lmdb
lmdb-lightning-stream=yes
lmdb-shards=1

# ==============================================================================
# NETWORK CONFIGURATION
# ==============================================================================
local-address=0.0.0.0
local-port=53

# ==============================================================================
# SOA RECORD CONFIGURATION - cloud.site.sa
# ==============================================================================
default-soa-content=ns1.cloud.site.sa hostmaster.cloud.site.sa 0 10800 3600 604800 600
default-soa-edit=INCEPTION-EPOCH
default-soa-edit-signed=INCEPTION-EPOCH
default-ttl=3600

# ==============================================================================
# API & WEB SERVER CONFIGURATION
# ==============================================================================
api=yes
api-key=powerdns-enterprise-api-key-2024-site-sa-secure
webserver=yes
webserver-address=0.0.0.0
webserver-port=8081
webserver-allow-from=0.0.0.0/0

# ==============================================================================
# LUA RECORDS CONFIGURATION
# ==============================================================================
enable-lua-records=yes
lua-records-insert-whitespace=no

# ==============================================================================
# LOGGING CONFIGURATION
# ==============================================================================
loglevel=4
log-dns-queries=no